!function(a){"function"==typeof define&&define.amd?define(["jquery","moment"],a):"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery"),require("moment")):a(jQuery,moment)}(function(a,b){a.dateRangePickerLanguages={az:{selected:"Seçildi:",day:" gün",days:" gün",night:"",nights:"",apply:"tətbiq","week-1":"1","week-2":"2","week-3":"3","week-4":"4","week-5":"5","week-6":"6","week-7":"7","month-name":["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],shortcuts:"Qısayollar",past:"Keçmiş",following:"Növbəti",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Öncəki həftə","prev-month":"Öncəki ay","prev-year":"Öncəki il",next:"&nbsp;&nbsp;&nbsp;","next-week":"Növbəti həftə","next-month":"Növbəti ay","next-year":"Növbəti il","less-than":"Tarix aralığı %d gündən çox olmamalıdır","more-than":"Tarix aralığı %d gündən az olmamalıdır","default-more":"%d gündən çox bir tarix seçin","default-single":"Tarix seçin","default-less":"%d gündən az bir tarix seçin","default-range":"%d və %d gün aralığında tarixlər seçin","default-default":"Tarix aralığı seçin"},ar:{selected:":مختارة",day:"يوم",days:"أيام",night:"ليلة",nights:"ليالي",apply:"إغلاق","week-1":"اثنين","week-2":"ثلاثاء","week-3":"أربعاء","week-4":"خميس","week-5":"جمعة","week-6":"سبت","week-7":"أحد","month-name":["يناير","فبراير","مارس","ابريل","مايو","يونيو","يوليو","اغسطس","سبتمبر","اكتوبر","نوفمبر","ديسمبر"],shortcuts:"اختصارات","custom-values":"القيم المخصصة",past:"الماضي",following:"التالية",previous:"السابق","prev-week":"الأسبوع","prev-month":"الشهر","prev-year":"السنة",next:"التالي","next-week":"الأسبوع","next-month":"الشهر","next-year":"السنة","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"الرجاء تحديد التاريخ","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"الرجاء تحديد نطاق التاريخ",time:"الوقت",hour:"ساعة",minute:"دقيقة"},cn:{selected:"已选择:",day:"天",days:"天",night:"",nights:"",apply:"确定","week-1":"一","week-2":"二","week-3":"三","week-4":"四","week-5":"五","week-6":"六","week-7":"日","month-name":["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortcuts:"快捷选择",past:"过去",following:"将来",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"上周","prev-month":"上个月","prev-year":"去年",next:"&nbsp;&nbsp;&nbsp;","next-week":"下周","next-month":"下个月","next-year":"明年","less-than":"所选日期范围不能大于%d天","more-than":"所选日期范围不能小于%d天","default-more":"请选择大于%d天的日期范围","default-less":"请选择小于%d天的日期范围","default-range":"请选择%d天到%d天的日期范围","default-single":"请选择一个日期","default-default":"请选择一个日期范围",time:"时间",hour:"小时",minute:"分钟"},cz:{selected:"Vybráno:",day:"Den",days:"Dny",night:"",nights:"",apply:"Zavřít","week-1":"po","week-2":"út","week-3":"st","week-4":"čt","week-5":"pá","week-6":"so","week-7":"ne","month-name":["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],shortcuts:"Zkratky",past:"po",following:"následující",previous:"předchozí","prev-week":"týden","prev-month":"měsíc","prev-year":"rok",next:"další","next-week":"týden","next-month":"měsíc","next-year":"rok","less-than":"Rozsah data by neměl být větší než %d dnů","more-than":"Rozsah data by neměl být menší než %d dnů","default-more":"Prosím zvolte rozsah data větší než %d dnů","default-single":"Prosím zvolte datum","default-less":"Prosím zvolte rozsah data menší než %d dnů","default-range":"Prosím zvolte rozsah data mezi %d a %d dny","default-default":"Prosím zvolte rozsah data"},en:{selected:"Selected:",day:"day",days:"days",night:"night",nights:"nights",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},sv:{selected:"Vald:",day:"dag",days:"dagar",night:"natt",nights:"nätter",apply:"Stäng","week-1":"må","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lö","week-7":"sö","month-name":["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","Spetember","Oktober","November","December"],shortcuts:"Genvägar","custom-values":"Skräddarsydda värden",past:"Tidigare",following:"Kommande",previous:"Föregående","prev-week":"Vecka","prev-month":"Månad","prev-year":"År",next:"Nästa","next-week":"Nästa vecka","next-month":"Nästa månad","next-year":"Nästa år","less-than":"Datumintervallet får inte överstiga %d dagar","more-than":"Datumintervallet får inte understiga %d dagar","default-more":"Vänligen välj ett datumintervall som är längre än %d dagar","default-single":"Vänligen välj ett datum","default-less":"Vänligen välj ett datumintervall som är mindre än %d dagar","default-range":"Vänligen välj ett datumintervall mellan %d och %d dagar","default-default":"Vänligen välj ett datumintervall",time:"Tid",hour:"Timme",minute:"Minut"},se:{selected:"Vald:",day:"dag",days:"dagar",night:"natt",nights:"nätter",apply:"Stäng","week-1":"må","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"lö","week-7":"sö","month-name":["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","Spetember","Oktober","November","December"],shortcuts:"Genvägar","custom-values":"Skräddarsydda värden",past:"Tidigare",following:"Kommande",previous:"Föregående","prev-week":"Vecka","prev-month":"Månad","prev-year":"År",next:"Nästa","next-week":"Nästa vecka","next-month":"Nästa månad","next-year":"Nästa år","less-than":"Datumintervallet får inte överstiga %d dagar","more-than":"Datumintervallet får inte understiga %d dagar","default-more":"Vänligen välj ett datumintervall som är längre än %d dagar","default-single":"Vänligen välj ett datum","default-less":"Vänligen välj ett datumintervall som är mindre än %d dagar","default-range":"Vänligen välj ett datumintervall mellan %d och %d dagar","default-default":"Vänligen välj ett datumintervall",time:"Tid",hour:"Timme",minute:"Minut"},it:{selected:"Selezionati:",day:"Giorno",days:"Giorni",night:"",nights:"",apply:"Chiudi","week-1":"lu","week-2":"ma","week-3":"me","week-4":"gi","week-5":"ve","week-6":"sa","week-7":"do","month-name":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortcuts:"Scorciatoie",past:"Scorso",following:"Successivo",previous:"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno",next:"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni","default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni","default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"},es:{selected:"Seleccionado:",day:"Dia",days:"Dias",night:"",nights:"",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"Año",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"Año","less-than":"El rango no deberia ser mayor de %d dias","more-than":"El rango no deberia ser menor de %d dias","default-more":"Por favor selecciona un rango mayor a %d dias","default-single":"Por favor selecciona un dia","default-less":"Por favor selecciona un rango menor a %d dias","default-range":"Por favor selecciona un rango entre %d y %d dias","default-default":"Por favor selecciona un rango de fechas."},de:{selected:"Auswahl:",day:"Tag",days:"Tage",night:"",nights:"",apply:"Schließen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","märz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"Nächste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht größer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage auswählen","default-single":"Bitte ein Datum auswählen","default-less":"Bitte weniger als %d Tage auswählen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen","default-default":"Bitte ein Start- und Enddatum auswählen"},ru:{selected:"Выбрано:",day:"День",days:"Дней",night:"",nights:"",apply:"Закрыть","week-1":"пн","week-2":"вт","week-3":"ср","week-4":"чт","week-5":"пт","week-6":"сб","week-7":"вс","month-name":["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],shortcuts:"Быстрый выбор",past:"Прошедшие",following:"Следующие",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"Неделя","prev-month":"Месяц","prev-year":"Год",next:"&nbsp;&nbsp;&nbsp;","next-week":"Неделя","next-month":"Месяц","next-year":"Год","less-than":"Диапазон не может быть больше %d дней","more-than":"Диапазон не может быть меньше %d дней","default-more":"Пожалуйста выберите диапазон больше %d дней","default-single":"Пожалуйста выберите дату","default-less":"Пожалуйста выберите диапазон меньше %d дней","default-range":"Пожалуйста выберите диапазон между %d и %d днями","default-default":"Пожалуйста выберите диапазон"},fr:{selected:"Sélection:",day:"Jour",days:"Jours",night:"",nights:"",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortcuts:"Raccourcis",past:"Passé",following:"Suivant",previous:"Précédent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Année",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Année","less-than":"L'intervalle ne doit pas être supérieure à %d jours","more-than":"L'intervalle ne doit pas être inférieure à %d jours","default-more":"Merci de choisir une intervalle supérieure à %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inférieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},hu:{selected:"Kiválasztva:",day:"Nap",days:"Nap",night:"",nights:"",apply:"Ok","week-1":"h","week-2":"k","week-3":"sz","week-4":"cs","week-5":"p","week-6":"sz","week-7":"v","month-name":["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],shortcuts:"Gyorsválasztó",past:"Múlt",following:"Következő",previous:"Előző","prev-week":"Hét","prev-month":"Hónap","prev-year":"Év",next:"Következő","next-week":"Hét","next-month":"Hónap","next-year":"Év","less-than":"A kiválasztás nem lehet több %d napnál","more-than":"A kiválasztás nem lehet több %d napnál","default-more":"Válassz ki egy időszakot ami hosszabb mint %d nap","default-single":"Válassz egy napot","default-less":"Válassz ki egy időszakot ami rövidebb mint %d nap","default-range":"Válassz ki egy %d - %d nap hosszú időszakot","default-default":"Válassz ki egy időszakot"}},a.fn.dateRangePicker=function(c){function j(){function j(b){var d=a(b).parents("table").hasClass("month2"),e=d?c.month2:c.month1;e=O(e),!c.singleDate&&!d&&M(e,c.month2)>=0||U(e)||(G(e,d?"month2":"month1"),K())}function l(a){var b=O(c.month1),d=O(c.month2);U(d)||!c.singleDate&&M(b,d)>=0||(G(b,"month1"),G(d,"month2"),F())}function m(b){var d=a(b).parents("table").hasClass("month2"),e=d?c.month2:c.month1;e=P(e),d&&M(e,c.month1)<=0||U(e)||(G(e,d?"month2":"month1"),K())}function n(a){var b=P(c.month1),d=P(c.month2);U(b)||!c.singleDate&&M(d,b)<=0||(G(d,"month2"),G(b,"month1"),F())}var d=this;if(a(this).data("date-picker-opened"))return void L();a(this).data("date-picker-opened",!0),e=R().hide(),e.append('<div class="date-range-length-tip"></div>'),e.delegate(".day","mouseleave",function(){e.find(".date-range-length-tip").hide()}),a(c.container).append(e),c.inline?e.addClass("inline-wrapper"):k(),c.alwaysOpen&&e.find(".apply-btn").hide();var g=c.defaultTime?c.defaultTime:new Date;c.lookBehind?(c.startDate&&M(g,c.startDate)<0&&(g=O(b(c.startDate).toDate())),c.endDate&&M(g,c.endDate)>0&&(g=b(c.endDate).toDate()),G(P(g),"month1"),G(g,"month2")):(c.startDate&&M(g,c.startDate)<0&&(g=b(c.startDate).toDate()),c.endDate&&M(O(g),c.endDate)>0&&(g=P(b(c.endDate).toDate())),G(g,"month1"),G(O(g),"month2")),c.time.enabled&&(c.startDate&&c.endDate||c.start&&c.end?(H(b(c.start||c.startDate).toDate(),"time1"),H(b(c.end||c.endDate).toDate(),"time2")):(H(g,"time1"),H(g,"time2")));var i="";i=_(c.singleDate?"default-single":c.minDays&&c.maxDays?"default-range":c.minDays?"default-more":c.maxDays?"default-less":"default-default"),e.find(".default-top").html(i.replace(/\%d/,c.minDays).replace(/\%d/,c.maxDays)),e.find(".drp_top-bar").remove(),c.singleMonth&&e.addClass("single-month"),setTimeout(function(){var a=e.find(".gap").css("margin-left");a&&(a=parseInt(a));var b=e.find(".month1").width(),c=e.find(".gap").width()+(a?2*a:0),d=e.find(".month2").width(),g=b+c+d;g<235&&(g=235),d>1&&g<535&&(g=535),e.find(".month-wrapper").width(g),f=!0},0),e.click(function(a){a.stopPropagation()}),a(document).bind("click.datepicker",function(a){e.is(":visible")&&L()}),e.find(".next").click(function(){!c.stickyMonths&&W()?j(this):l(this)}),e.find(".prev").click(function(){c.stickyMonths?n(this):m(this)}),e.delegate(".day","click",function(b){v(a(this))}),e.delegate(".day","mouseenter",function(b){x(a(this))}),e.attr("unselectable","on").css("user-select","none").bind("selectstart",function(a){return a.preventDefault(),!1}),e.find(".apply-btn").click(function(){L();var b=J(new Date(c.start))+c.separator+J(new Date(c.end));a(d).trigger("datepicker-apply",{value:b,date1:new Date(c.start),date2:new Date(c.end)})}),e.find("[custom]").click(function(){var b=a(this).attr("custom");c.start=!1,c.end=!1,e.find(".day.checked").removeClass("checked"),c.setValue.call(h,b),A(),B(!0),F(),c.autoClose&&L()}),e.find("[shortcut]").click(function(){var b=a(this).attr("shortcut"),d=new Date,e=!1;if(b.indexOf("day")!=-1){var f=parseInt(b.split(",",2)[1],10);e=new Date((new Date).getTime()+864e5*f),d=new Date(d.getTime()+864e5*(f>0?1:-1))}else if(b.indexOf("week")!=-1){var g=b.indexOf("prev,")!=-1?-1:1;if(1==g)var h="monday"==c.startOfWeek?1:0;else var h="monday"==c.startOfWeek?0:6;for(d=new Date(d.getTime()-864e5);d.getDay()!=h;)d=new Date(d.getTime()+864e5*g);e=new Date(d.getTime()+864e5*g*6)}else if(b.indexOf("month")!=-1){var g=b.indexOf("prev,")!=-1?-1:1;e=1==g?O(d):P(d),e.setDate(1),d=O(e),d.setDate(1),d=new Date(d.getTime()-864e5)}else if(b.indexOf("year")!=-1){var g=b.indexOf("prev,")!=-1?-1:1;e=new Date,e.setFullYear(d.getFullYear()+g),e.setMonth(0),e.setDate(1),d.setFullYear(d.getFullYear()+g),d.setMonth(11),d.setDate(31)}else if("custom"==b){var i=a(this).html();if(c.customShortcuts&&c.customShortcuts.length>0)for(var j=0;j<c.customShortcuts.length;j++){var k=c.customShortcuts[j];if(k.name==i){var l=[];l=k.dates.call(),l&&2==l.length&&(e=l[0],d=l[1]),l&&1==l.length&&(movetodate=l[0],G(movetodate,"month1"),G(O(movetodate),"month2"),K());break}}}e&&d&&(D(e,d),A())}),e.find(".time1 input[type=range]").bind("change mousemove",function(b){var c=b.target,d="hour"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0,e="minute"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0;r("time1",d,e)}),e.find(".time2 input[type=range]").bind("change mousemove",function(b){var c=b.target,d="hour"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0,e="minute"==c.name?a(c).val().replace(/^(\d{1})$/,"0$1"):void 0;r("time2",d,e)})}function k(){if(!c.inline){var b=a(g).offset();if("relative"==a(c.container).css("position")){var d=a(c.container).offset();e.css({top:b.top-d.top+a(g).outerHeight()+4,left:b.left-d.left})}else b.left<460?e.css({top:b.top+a(g).outerHeight()+parseInt(a("body").css("border-top")||0,10),left:b.left}):e.css({top:b.top+a(g).outerHeight()+parseInt(a("body").css("border-top")||0,10),left:b.left+a(g).width()-e.width()-16})}}function l(){return e}function m(b){k(),n(),e.slideDown(b,function(){a(g).trigger("datepicker-opened",{relatedTarget:e})}),a(g).trigger("datepicker-open",{relatedTarget:e}),K()}function n(){var a=c.getValue.call(h),d=a?a.split(c.separator):"";if(d&&(1==d.length&&c.singleDate||d.length>=2)){var e=c.format;e.match(/Do/)&&(e=e.replace(/Do/,"D"),d[0]=d[0].replace(/(\d+)(th|nd|st)/,"$1"),d.length>=2&&(d[1]=d[1].replace(/(\d+)(th|nd|st)/,"$1"))),f=!1,d.length>=2?D(b(d[0],e,b.locale(c.language)).toDate(),b(d[1],e,b.locale(c.language)).toDate()):1==d.length&&c.singleDate&&E(b(d[0],e,b.locale(c.language)).toDate()),f=!0}}function o(a,c){e.find("."+a+" input[type=range].hour-range").val(b(c).hours()),e.find("."+a+" input[type=range].minute-range").val(b(c).minutes()),r(a,b(c).format("HH"),b(c).format("mm"))}function p(a,d){c[a]=parseInt(b(parseInt(d)).startOf("day").add(b(c[a+"Time"]).format("HH"),"h").add(b(c[a+"Time"]).format("mm"),"m").valueOf())}function q(){o("time1",c.start),o("time2",c.end)}function r(a,d,f){function g(a,b){var e=b.format("HH"),g=b.format("mm");c[a]=b.startOf("day").add(d||e,"h").add(f||g,"m").valueOf()}switch(d&&e.find("."+a+" .hour-val").text(d),f&&e.find("."+a+" .minute-val").text(f),a){case"time1":c.start&&g("start",b(c.start)),g("startTime",b(c.startTime||b().valueOf()));break;case"time2":c.end&&g("end",b(c.end)),g("endTime",b(c.endTime||b().valueOf()))}A(),B(),F()}function s(){c.start=!1,c.end=!1,e.find(".day.checked").removeClass("checked"),e.find(".day.last-date-selected").removeClass("last-date-selected"),e.find(".day.first-date-selected").removeClass("first-date-selected"),c.setValue.call(h,""),A(),B(),F()}function t(a){var d=a;return"week-range"===c.batchMode?d="monday"===c.startOfWeek?b(parseInt(a)).startOf("isoweek").valueOf():b(parseInt(a)).startOf("week").valueOf():"month-range"===c.batchMode&&(d=b(parseInt(a)).startOf("month").valueOf()),d}function u(a){var d=a;return"week-range"===c.batchMode?d="monday"===c.startOfWeek?b(parseInt(a)).endOf("isoweek").valueOf():b(parseInt(a)).endOf("week").valueOf():"month"===c.batchMode&&(d=b(parseInt(a)).endOf("month").valueOf()),d}function v(d){if(!d.hasClass("invalid")){var e=d.attr("time");if(d.addClass("checked"),c.singleDate?(c.start=e,c.end=!1,c.time.enabled&&p("start",c.start)):"week"===c.batchMode?"monday"===c.startOfWeek?(c.start=b(parseInt(e)).startOf("isoweek").valueOf(),c.end=b(parseInt(e)).endOf("isoweek").valueOf()):(c.end=b(parseInt(e)).endOf("week").valueOf(),c.start=b(parseInt(e)).startOf("week").valueOf()):"month"===c.batchMode?(c.start=b(parseInt(e)).startOf("month").valueOf(),c.end=b(parseInt(e)).endOf("month").valueOf()):c.start&&c.end||!c.start&&!c.end?(c.start=t(e),c.end=!1,c.time.enabled&&p("start",c.start)):c.start&&(c.end=u(e),c.time.enabled&&p("end",c.end)),!c.singleDate&&c.start&&c.end&&c.start>c.end){var f=c.end;c.end=u(c.start),c.start=t(f),c.time.enabled&&q()}c.start=parseInt(c.start),c.end=parseInt(c.end),y(),c.start&&!c.end&&(a(g).trigger("datepicker-first-date-selected",{date1:new Date(c.start)}),x(d)),w(d),A(),B(),F(),z()}}function w(b){if(e.find(".day.invalid.tmp").removeClass("tmp").removeClass("invalid").addClass("valid"),c.start&&!c.end){var d=parseInt(b.attr("time")),f=0,g=14340384e7;e.find(".day.toMonth.invalid").not(".tmp").each(function(){var b=parseInt(a(this).attr("time"));b>d&&b<g?g=b:b<d&&b>f&&(f=b)}),e.find(".day.toMonth.valid").each(function(){var b=parseInt(a(this).attr("time"));(b<=f||b>=g)&&a(this).addClass("invalid").addClass("tmp").removeClass("valid")})}}function x(b){if(!b.hasClass("invalid")){var d=parseInt(b.attr("time"));if(c.singleDate)e.find(".day.hovering").removeClass("hovering"),b.addClass("hovering");else if(e.find(".day").each(function(){var b=parseInt(a(this).attr("time"));c.start,c.end;b==d?a(this).addClass("hovering"):a(this).removeClass("hovering"),c.start&&!c.end&&(c.start<b&&d>=b||c.start>b&&d<=b)?a(this).addClass("hovering"):a(this).removeClass("hovering")}),c.start&&!c.end){var f=Math.abs(Math.round((d-c.start)/864e5))+1,g=f-1,h="";if(c.hoveringTooltip&&("function"==typeof c.hoveringTooltip?h=c.hoveringTooltip(f):c.hoveringTooltip===!0&&f>1?h=a("#tab-menu-hotel").parent().hasClass("active")?1==g?g+" "+_("night"):g+" "+_("nights"):f+" "+_("days"):c.hoveringTooltip===!0&&1==f&&(h=a("#tab-menu-hotel").parent().hasClass("active")?g+" "+_("night"):f+" "+_("day"))),h){var i=b.offset(),j=e.offset(),k=i.left-j.left,l=i.top-j.top;k+=b.width()/2;var m=e.find(".date-range-length-tip"),n=m.css({visibility:"hidden",display:"none"}).html(h).width(),o=m.height();k-=n/2,l-=o,m.css({left:k,top:l,display:"block",visibility:"visible"})}else e.find(".date-range-length-tip").hide()}}}function y(){e.find(".day.hovering").removeClass("hovering"),e.find(".date-range-length-tip").hide()}function z(){c.singleDate===!0?f&&c.start&&c.autoClose&&L():f&&c.start&&c.end&&c.autoClose&&L()}function A(){var a=Math.ceil((c.end-c.start)/864e5)+1;c.singleDate?c.start&&!c.end?e.find(".drp_top-bar").removeClass("error").addClass("normal"):e.find(".drp_top-bar").removeClass("error").removeClass("normal"):c.maxDays&&a>c.maxDays?(c.start=!1,c.end=!1,e.find(".day").removeClass("checked"),e.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(_("less-than").replace("%d",c.maxDays))):c.minDays&&a<c.minDays?(c.start=!1,c.end=!1,e.find(".day").removeClass("checked"),e.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(_("more-than").replace("%d",c.minDays))):c.start||c.end?e.find(".drp_top-bar").removeClass("error").addClass("normal"):e.find(".drp_top-bar").removeClass("error").removeClass("normal"),c.singleDate&&c.start&&!c.end||!c.singleDate&&c.start&&c.end?e.find(".apply-btn").removeClass("disabled"):e.find(".apply-btn").addClass("disabled"),c.batchMode&&(c.start&&c.startDate&&N(c.start,c.startDate)<0||c.end&&c.endDate&&N(c.end,c.endDate)>0)&&(c.start=!1,c.end=!1,e.find(".day").removeClass("checked"))}function B(b,d){if(e.find(".start-day").html("..."),e.find(".end-day").html("..."),e.find(".selected-days").hide(),c.start&&e.find(".start-day").html(J(new Date(parseInt(c.start)))),c.end&&e.find(".end-day").html(J(new Date(parseInt(c.end)))),c.start&&c.singleDate){e.find(".apply-btn").removeClass("disabled");var i=J(new Date(c.start));c.setValue.call(h,i,J(new Date(c.start)),J(new Date(c.end))),f&&a(g).trigger("datepicker-change",{value:i,date1:new Date(c.start)})}else if(c.start&&c.end){e.find(".selected-days").show().find(".selected-days-num").html(C(c.end,c.start)+1),e.find(".apply-btn").removeClass("disabled");var i=J(new Date(c.start))+c.separator+J(new Date(c.end));c.setValue.call(h,i,J(new Date(c.start)),J(new Date(c.end))),f&&!d&&a(g).trigger("datepicker-change",{value:i,date1:new Date(c.start),date2:new Date(c.end)})}else b?e.find(".apply-btn").removeClass("disabled"):e.find(".apply-btn").addClass("disabled")}function C(a,c){var d=b(a),e=b(c),f=365*d.year()+d.dayOfYear(),g=365*e.year()+e.dayOfYear();return Math.abs(f-g)}function D(a,b,d){if(a.getTime()>b.getTime()){var e=b;b=a,a=e,e=null}var f=!0;return c.startDate&&N(a,c.startDate)<0&&(f=!1),c.endDate&&N(b,c.endDate)>0&&(f=!1),f?(c.start=a.getTime(),c.end=b.getTime(),c.time.enabled&&(o("time1",a),o("time2",b)),(c.stickyMonths||N(a,b)>0&&0==M(a,b))&&(c.lookBehind?a=P(b):b=O(a)),c.stickyMonths&&M(b,c.endDate)>0&&(a=P(a),b=P(b)),c.stickyMonths||0==M(a,b)&&(c.lookBehind?a=P(b):b=O(a)),G(a,"month1"),G(b,"month2"),K(),A(),B(!1,d),void z()):(G(c.startDate,"month1"),G(O(c.startDate),"month2"),void K())}function E(a){var b=!0;return c.startDate&&N(a,c.startDate)<0&&(b=!1),c.endDate&&N(a,c.endDate)>0&&(b=!1),b?(c.start=a.getTime(),c.time.enabled&&o("time1",a),G(a,"month1"),K(),B(),void z()):void G(c.startDate,"month1")}function F(){(c.start||c.end)&&e.find(".day").each(function(){var d=parseInt(a(this).attr("time")),e=c.start,f=c.end;c.time.enabled&&(d=b(d).startOf("day").valueOf(),e=b(e||b().valueOf()).startOf("day").valueOf(),f=b(f||b().valueOf()).startOf("day").valueOf()),c.start&&c.end&&f>=d&&e<=d||c.start&&!c.end&&b(e).format("YYYY-MM-DD")==b(d).format("YYYY-MM-DD")?a(this).addClass("checked"):a(this).removeClass("checked"),c.start&&b(e).format("YYYY-MM-DD")==b(d).format("YYYY-MM-DD")?a(this).addClass("first-date-selected"):a(this).removeClass("first-date-selected"),c.end&&b(f).format("YYYY-MM-DD")==b(d).format("YYYY-MM-DD")?a(this).addClass("last-date-selected"):a(this).removeClass("last-date-selected")})}function G(a,d){a=b(a).toDate();var f=I(a.getMonth());e.find("."+d+" .month-name").html(f+" "+a.getFullYear()),e.find("."+d+" tbody").html(Y(a)),c[d]=a}function H(a,b){e.find("."+b).append(Q()),o(b,a)}function I(a){return _("month-name")[a]}function J(a){return b(a).format(c.format)}function K(){F();var a=parseInt(b(c.month1).format("YYYYMM")),d=parseInt(b(c.month2).format("YYYYMM")),f=Math.abs(a-d),g=f>1&&89!=f;g?e.find(".gap").css("visibility","visible"):e.find(".gap").css("visibility","hidden");var h=e.find("table.month1").height(),i=e.find("table.month2").height();e.find(".gap").height(Math.max(h,i)+10)}function L(){c.alwaysOpen||(a(e).slideUp(c.duration,function(){a(g).data("date-picker-opened",!1),a(g).trigger("datepicker-closed",{relatedTarget:e})}),a(g).trigger("datepicker-close",{relatedTarget:e}))}function M(a,c){var d=parseInt(b(a).format("YYYYMM"))-parseInt(b(c).format("YYYYMM"));return d>0?1:0==d?0:-1}function N(a,c){var d=parseInt(b(a).format("YYYYMMDD"))-parseInt(b(c).format("YYYYMMDD"));return d>0?1:0==d?0:-1}function O(a){return b(a).add(1,"months").toDate()}function P(a){return b(a).add(-1,"months").toDate()}function Q(){return"<div>\t\t\t\t\t\t<span>"+_("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span>\t\t\t\t\t</div>\t\t\t\t\t<div class="hour">\t\t\t\t\t\t<label>'+_("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label>\t\t\t\t\t</div>\t\t\t\t\t<div class="minute">\t\t\t\t\t\t<label>'+_("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label>\t\t\t\t\t</div>'}function R(){var b='<div class="date-picker-wrapper';if(c.extraClass&&(b+=" "+c.extraClass+" "),c.singleDate&&(b+=" single-date "),c.showShortcuts||(b+=" no-shortcuts "),c.showTopbar||(b+=" no-topbar "),b+=" lang-"+c.language,b+='">',c.showTopbar&&(b+='<div class="drp_top-bar">',c.customTopBar?("function"==typeof c.customTopBar&&(c.customTopBar=c.customTopBar()),b+='<div class="custom-top">'+c.customTopBar+"</div>"):(b+='<div class="normal-top">\t\t\t\t\t\t\t<span style="color:#333">'+_("selected")+' </span> <b class="start-day">...</b>',c.singleDate||(b+=' <span class="separator-day">'+c.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+_("days")+")</i>"),b+="</div>"),b+='<div class="error-top">error</div>\t\t\t\t\t\t<div class="default-top">default</div>\t\t\t\t\t\t<input type="button" class="apply-btn disabled'+S()+'" value="'+_("apply")+'" />',b+="</div>"),W()?(b+='<div class="month-wrapper"><table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="5" class="month-name">January, 2011</th><th style="width:27px;">'+(c.singleDate||c.stickyMonths||!c.stickyMonths,"")+'</th></tr><tr class="week-name">'+T()+"</thead><tbody></tbody></table>",b+='<div class="gap">'+V()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;">'+(c.stickyMonths?"":'<span class="prev">&lt;</span>')+'</th><th colspan="5" class="month-name">January, 2011</th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">'+T()+"</thead><tbody></tbody></table>"):b+='<div class="month-wrapper"><table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="5" class="month-name">January, 2011</th><th style="width:27px;">'+(c.singleDate||c.stickyMonths||!c.stickyMonths?'<span class="next">&gt;</span>':"")+'</th></tr><tr class="week-name">'+T()+"</thead><tbody></tbody></table>",b+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',c.singleDate||(b+='<div class="time2"></div>'),b+='</div><div style="clear:both;height:0;font-size:0;"></div></div>',b+='<div class="footer">',c.showShortcuts){b+='<div class="shortcuts"><b>'+_("shortcuts")+"</b>";var d=c.shortcuts;if(d){if(d["prev-days"]&&d["prev-days"].length>0){b+='&nbsp;<span class="prev-days">'+_("past");for(var e=0;e<d["prev-days"].length;e++){var f=d["prev-days"][e];f+=_(d["prev-days"][e]>1?"days":"day"),b+=' <a href="javascript:;" shortcut="day,-'+d["prev-days"][e]+'">'+f+"</a>"}b+="</span>"}if(d["next-days"]&&d["next-days"].length>0){b+='&nbsp;<span class="next-days">'+_("following");for(var e=0;e<d["next-days"].length;e++){var f=d["next-days"][e];f+=_(d["next-days"][e]>1?"days":"day"),b+=' <a href="javascript:;" shortcut="day,'+d["next-days"][e]+'">'+f+"</a>"}b+="</span>"}if(d.prev&&d.prev.length>0){b+='&nbsp;<span class="prev-buttons">'+_("previous");for(var e=0;e<d.prev.length;e++){var f=_("prev-"+d.prev[e]);b+=' <a href="javascript:;" shortcut="prev,'+d.prev[e]+'">'+f+"</a>"}b+="</span>"}if(d.next&&d.next.length>0){b+='&nbsp;<span class="next-buttons">'+_("next");for(var e=0;e<d.next.length;e++){var f=_("next-"+d.next[e]);b+=' <a href="javascript:;" shortcut="next,'+d.next[e]+'">'+f+"</a>"}b+="</span>"}}if(c.customShortcuts)for(var e=0;e<c.customShortcuts.length;e++){var g=c.customShortcuts[e];b+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+g.name+"</a></span>"}b+="</div>"}if(c.showCustomValues&&(b+='<div class="customValues"><b>'+(c.customValueLabel||_("custom-values"))+"</b>",c.customValues))for(var e=0;e<c.customValues.length;e++){var h=c.customValues[e];b+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+h.value+'">'+h.name+"</a></span>"}return b+="</div></div>",a(b)}function S(){return klass="",c.autoClose===!0&&(klass+=" hide"),""!==c.applyBtnClass&&(klass+=" "+c.applyBtnClass),klass}function T(){return"monday"==c.startOfWeek?"<th>"+_("week-1")+"</th>\t\t\t\t\t<th>"+_("week-2")+"</th>\t\t\t\t\t<th>"+_("week-3")+"</th>\t\t\t\t\t<th>"+_("week-4")+"</th>\t\t\t\t\t<th>"+_("week-5")+"</th>\t\t\t\t\t<th>"+_("week-6")+"</th>\t\t\t\t\t<th>"+_("week-7")+"</th>":"<th>"+_("week-7")+"</th>\t\t\t\t\t<th>"+_("week-1")+"</th>\t\t\t\t\t<th>"+_("week-2")+"</th>\t\t\t\t\t<th>"+_("week-3")+"</th>\t\t\t\t\t<th>"+_("week-4")+"</th>\t\t\t\t\t<th>"+_("week-5")+"</th>\t\t\t\t\t<th>"+_("week-6")+"</th>";
}function U(a){var a=b(a);return!(!c.startDate||!a.endOf("month").isBefore(c.startDate))||!(!c.endDate||!a.startOf("month").isAfter(c.endDate))}function V(){for(var a=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'],b=0;b<20;b++)a.push('<div class="gap-line">\t\t\t\t\t<div class="gap-1"></div>\t\t\t\t\t<div class="gap-2"></div>\t\t\t\t\t<div class="gap-3"></div>\t\t\t\t</div>');return a.push("</div>"),a.join("")}function W(){return!c.singleDate&&!c.singleMonth}function X(a,b,c){var d=jQuery.extend(!0,{},a);jQuery.each(b,function(a,b){var e=b(c);for(var f in e)d.hasOwnProperty(f)?d[f]+=e[f]:d[f]=e[f]}),attrString="";for(var e in d)d.hasOwnProperty(e)&&(attrString+=e+'="'+d[e]+'" ');return attrString}function Y(a){var d=[];a.setDate(1);var f=(new Date(a.getTime()-864e5),new Date),g=a.getDay();if(0==g&&"monday"==c.startOfWeek&&(g=7),g>0)for(var h=g;h>0;h--){var i=new Date(a.getTime()-864e5*h),j=!0;c.startDate&&N(i,c.startDate)<0&&(j=!1),c.endDate&&N(i,c.endDate)>0&&(j=!1),d.push({type:"lastMonth",day:i.getDate(),time:i.getTime(),valid:j})}for(var k=a.getMonth(),h=0;h<40;h++){var l=b(a).add(h,"days").toDate(),j=!0;c.startDate&&N(l,c.startDate)<0&&(j=!1),c.endDate&&N(l,c.endDate)>0&&(j=!1),d.push({type:l.getMonth()==k?"toMonth":"nextMonth",day:l.getDate(),time:l.getTime(),valid:j})}for(var m=[],n=0;n<6&&"nextMonth"!=d[7*n].type;n++){m.push("<tr>");for(var i=0;i<7;i++){var o="monday"==c.startOfWeek?i+1:i,l=d[7*n+o],p=b(l.time).format("L")==b(f).format("L");if(l.extraClass="",l.tooltip="",c.beforeShowDay&&"function"==typeof c.beforeShowDay){var q=c.beforeShowDay(b(l.time).toDate());l.valid=q[0],l.extraClass=q[1]||"",l.tooltip=q[2]||"",""!=l.tooltip&&(l.extraClass+=" has-tooltip ")}todayDivAttr={time:l.time,title:l.tooltip,class:"day "+l.type+" "+l.extraClass+" "+(l.valid?"valid":"invalid")+" "+(p?"real-today":"")},m.push("<td "+X({},c.dayTdAttrs,l)+"><div "+X(todayDivAttr,c.dayDivAttrs,l)+">"+Z(l.time,l.day)+"</div></td>")}m.push("</tr>")}return m.join("")}function Z(a,b){return c.showDateFilter&&"function"==typeof c.showDateFilter?c.showDateFilter(a,b):b}function $(){if("auto"==c.language){var b=a("#languageCode").val();if(!b)return a.dateRangePickerLanguages.en;var b=b.toLowerCase();for(var d in a.dateRangePickerLanguages)if(b.indexOf(d)!=-1)return a.dateRangePickerLanguages[d];return a.dateRangePickerLanguages.en}return c.language&&c.language in a.dateRangePickerLanguages?a.dateRangePickerLanguages[c.language]:a.dateRangePickerLanguages.en}function _(a){var b=a.toLowerCase();return a in d?d[a]:b in d?d[b]:a}c||(c={}),c=a.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"monday",getValue:function(){return a(this).val()},setValue:function(b){a(this).attr("readonly")||a(this).is(":disabled")||b==a(this).val()||a(this).val(b)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!0,shortcuts:{"next-days":[3,5,7],next:["week","month","year"]},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],applyBtnClass:"",singleMonth:"auto",responsive:767,hoveringTooltip:function(a){return daytext=_("day"),daystext=_("days"),a>1?a+" "+daystext:""},showTopbar:!0},c),c.start=!1,c.end=!1,"auto"==c.singleMonth&&(c.singleMonth=a(window).width()<680),c.showTopbar||(c.autoClose=!0),c.startDate&&"string"==typeof c.startDate&&(c.startDate=b(c.startDate,c.format).toDate()),c.endDate&&"string"==typeof c.endDate&&(c.endDate=b(c.endDate,c.format).toDate());var e,i,d=$(),f=!1,g=this,h=a(g).get(0);return a(this).unbind(".datepicker").bind("click.datepicker",function(a){var b=e.is(":visible");a.stopPropagation(),b||m(c.duration)}).bind("change.datepicker",function(a){n()}).bind("keyup.datepicker",function(){try{clearTimeout(i)}catch(a){}i=setTimeout(function(){n()},2e3)}),j.call(this),c.alwaysOpen&&m(0),a(this).data("dateRangePicker",{setDateRange:function(a,d,e){"string"==typeof a&&"string"==typeof d&&(a=b(a,c.format).toDate(),d=b(d,c.format).toDate()),D(a,d,e)},clear:s,close:L,open:m,getDatePicker:l,destroy:function(){a(g).unbind(".datepicker"),a(g).data("dateRangePicker",""),a(g).data("date-picker-opened",null),e.remove(),a(window).unbind("resize.datepicker",k),a(document).unbind("click.datepicker",L)}}),a(window).bind("resize.datepicker",k),this}});